<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zx.share.platform.console.mapper.zx.ZxUserMapper">
  <resultMap id="Map" type="com.zx.share.platform.bean.zx.ZxUser">
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="user_code" jdbcType="VARCHAR" property="userCode" />
    <result column="mobile" jdbcType="VARCHAR" property="mobile" />
    <result column="username" jdbcType="VARCHAR" property="username" />
    <result column="password" jdbcType="VARCHAR" property="password" />
    <result column="nickname" jdbcType="VARCHAR" property="nickname" />
    <result column="portrait" jdbcType="VARCHAR" property="portrait" />
    <result column="register_time" jdbcType="TIMESTAMP" property="registerTime" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="update_time" jdbcType="TIMESTAMP" property="updateTime" />
    <result column="open_id" jdbcType="VARCHAR" property="openId" />
    <result column="union_id" jdbcType="VARCHAR" property="unionId" />
    <result column="user_type" jdbcType="INTEGER" property="userType" />
  </resultMap>
  <!-- 设备列表添加线上管理员 -->
  <select id="selectOnlineAdmin" resultType="ZxUser" resultMap="Map">
  		SELECT
  		zx_user.id,
		zx_user.username,
		zx_user_printer.`status`,
		zx_user_printer.create_time,
		zx_user_attorney.domain
		FROM
		zx_user ,
		zx_user_printer ,
		zx_user_attorney
		WHERE
		zx_user_printer.user_id = zx_user.id AND
		zx_user.id = zx_user_attorney.user_id AND
		zx_user_printer.status=0
  </select>
  <!-- 设备列表添加线上管理员查看功能 -->
  <select id="selectOnlineAdminById" resultType="ZxUser" resultMap="Map">
  		SELECT
  		zx_user.id,
		zx_user.username,
		zx_user_printer.`status`,
		zx_user_printer.create_time,
		zx_user_attorney.domain
		FROM
		zx_user ,
		zx_user_printer ,
		zx_user_attorney
		WHERE
		zx_user_printer.user_id = zx_user.id AND
		zx_user.id = zx_user_attorney.user_id AND
		zx_user_printer.status=0 AND
		zx_user.id=#{id}
		
  </select>
  <!-- 设备列表添加线上管理员模糊查询 -->
  <select id="" resultType="ZxUser" resultMap="Map">
  		
  </select>
  <!-- 设备管理线上管理员分页遍历 -->
	<select id="selectAdminByPage" resultType="com.zx.share.platform.bean.zx.ZxUser"
		resultMap="BaseResultMap">
		SELECT
		zx_user.id,
		zx_user.username,
		zx_user_printer.`status`,
		zx_user_printer.create_time,
		zx_user_attorney.domain
		FROM
		zx_user ,
		zx_user_printer ,
		zx_user_attorney
		WHERE
		zx_user_printer.user_id =
		zx_user.id AND
		zx_user.id = zx_user_attorney.user_id AND
		zx_user_printer.status=0 And
		zx_user.user_type=2
	</select>
	
	<!-- 设备管理线上管理员查看功能 -->
	<select id="selectZxAdminById" resultType="com.zx.share.platform.bean.zx.ZxUser" resultMap="Map">
	SELECT
		zx_user.id,
		zx_user.username,
		zx_user.mobile,
		zx_user.`wechat_id`,
		zx_user.`age`,
		zx_user.`province`,
		zx_user.`city`,
		zx_user.`area`,
		zx_user.`addres`,
		zx_user_attorney.`work_num`,
		zx_user_attorney.`work_org`,
		zx_user_attorney.`work_year`,
		zx_user_attorney.`domain`,
		zx_user_attorney.`identity_card_img`,
		zx_user_attorney.`attorney_card_img`,
		zx_user_attorney.`check_img`
		FROM
		zx_user ,
		zx_user_attorney
		WHERE
		zx_user.id = zx_user_attorney.user_id
		AND
		zx_user.id=#{id}
	</select>
</mapper>